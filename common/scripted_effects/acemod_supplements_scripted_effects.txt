acemod_supplements_spawn_swarm = {
	every_owned_fleet = {
		limit = {
			is_ship_class = shipclass_military
			NOT = {
				is_variable_set = acemod_var_fleet_supplements_ship_num_added
			}
		}
		while = {
			count = event_target:global_event_country.acemod_var_supplements_ship_num
			create_ship = {
				name = random
				design = $DESIGN$
				graphical_culture = owner
			}
		}
		change_variable = {
			which = acemod_var_fleet_supplements_ship_num_added
			value = event_target:global_event_country.acemod_var_supplements_ship_num
		}
	}
}

acemod_supplements_spawn_ai_empire = {
	every_owned_planet = {
		limit = {
			is_planet_class = pc_ai
		}
		solar_system = {
			every_fleet_in_system = {
				limit = {
					is_ship_class = shipclass_military
					owner = {
						is_country_type = ai_empire
					}
					NOT = {
						is_variable_set = acemod_var_fleet_supplements_ship_num_added
					}
				}
				while = {
					count = event_target:global_event_country.acemod_var_supplements_ship_num
					create_ship = {
						name = random
						design = $DESIGN$
						graphical_culture = owner
					}
				}
				change_variable = {
					which = acemod_var_fleet_supplements_ship_num_added
					value = event_target:global_event_country.acemod_var_supplements_ship_num
				}
			}
		}
	}
}

acemod_supplements_spawn_extradimensional = {
	if = {
		limit = {
			exists = event_target:portal_holder_1
		}
		event_target:portal_holder_1 = {
			every_owned_ship = {
				limit = {
					has_ship_flag = unbidden_portal
				}
				solar_system = {
					every_fleet_in_system = {
						limit = {
							is_ship_class = shipclass_military
							owner = {
								is_country_type = extradimensional
							}
							NOT = {
								is_variable_set = acemod_var_fleet_supplements_ship_num_added
							}
						}
						while = {
							count = event_target:global_event_country.acemod_var_supplements_ship_num
							create_ship = {
								name = random
								design = $DESIGN$
								graphical_culture = owner
							}
						}
						change_variable = {
							which = acemod_var_fleet_supplements_ship_num_added
							value = event_target:global_event_country.acemod_var_supplements_ship_num
						}
					}
				}
			}
		}
	}
}

acemod_supplements_spawn_extradimensional_2 = {
	if = {
		limit = {
			exists = event_target:portal_holder_1
		}
		event_target:portal_holder_1 = {
			every_owned_ship = {
				limit = {
					has_ship_flag = aberrant_portal
				}
				solar_system = {
					every_fleet_in_system = {
						limit = {
							is_ship_class = shipclass_military
							owner = {
								is_country_type = extradimensional
							}
							NOT = {
								is_variable_set = acemod_var_fleet_supplements_ship_num_added
							}
						}
						while = {
							count = event_target:global_event_country.acemod_var_supplements_ship_num
							create_ship = {
								name = random
								design = $DESIGN$
								graphical_culture = owner
							}
						}
						change_variable = {
							which = acemod_var_fleet_supplements_ship_num_added
							value = event_target:global_event_country.acemod_var_supplements_ship_num
						}
					}
				}
			}
		}
	}
}

acemod_supplements_spawn_extradimensional_3 = {
	if = {
		limit = {
			exists = event_target:portal_holder_1
		}
		event_target:portal_holder_1 = {
			every_owned_ship = {
				limit = {
					has_ship_flag = vehement_portal
				}
				solar_system = {
					every_fleet_in_system = {
						limit = {
							is_ship_class = shipclass_military
							owner = {
								is_country_type = extradimensional
							}
							NOT = {
								is_variable_set = acemod_var_fleet_supplements_ship_num_added
							}
						}
						while = {
							count = event_target:global_event_country.acemod_var_supplements_ship_num
							create_ship = {
								name = random
								design = $DESIGN$
								graphical_culture = owner
							}
						}
						change_variable = {
							which = acemod_var_fleet_supplements_ship_num_added
							value = event_target:global_event_country.acemod_var_supplements_ship_num
						}
					}
				}
			}
		}
	}
}
